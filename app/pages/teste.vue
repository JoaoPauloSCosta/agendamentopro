<template>
  <div class="min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 py-12">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-neutral-900 mb-4">
          üß™ Teste de Componentes
        </h1>
        <p class="text-xl text-neutral-600">
          Avalia√ß√£o dos componentes BaseButton, BaseInput, Heroicons e Toast
        </p>
      </div>

      <!-- Toast Tests -->
      <section class="mb-16">
        <div class="bg-white rounded-2xl shadow-card border border-neutral-200 p-8">
          <h2 class="text-2xl font-bold text-neutral-900 mb-6 flex items-center">
            üçû Toast Notifications
            <span class="ml-3 text-sm font-normal text-neutral-500">Sistema de Notifica√ß√µes</span>
          </h2>

          <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-neutral-800">Tipos de Toast</h3>
              <div class="flex flex-wrap gap-3">
                <BaseButton 
                  variant="success" 
                  size="sm"
                  @click="showSuccessToast"
                >
                  <CheckCircleIcon class="w-4 h-4 mr-2" />
                  Sucesso
                </BaseButton>
                <BaseButton 
                  variant="danger" 
                  size="sm"
                  @click="showErrorToast"
                >
                  <XCircleIcon class="w-4 h-4 mr-2" />
                  Erro
                </BaseButton>
                <BaseButton 
                  variant="secondary" 
                  size="sm"
                  @click="showWarningToast"
                >
                  <ExclamationTriangleIcon class="w-4 h-4 mr-2" />
                  Aviso
                </BaseButton>
                <BaseButton 
                  variant="primary" 
                  size="sm"
                  @click="showInfoToast"
                >
                  <InformationCircleIcon class="w-4 h-4 mr-2" />
                  Info
                </BaseButton>
              </div>
            </div>

            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-neutral-800">Heroicons</h3>
              <div class="flex flex-wrap gap-4 items-center">
                <HomeIcon class="w-6 h-6 text-primary-600" />
                <UserIcon class="w-6 h-6 text-secondary-600" />
                <CalendarIcon class="w-6 h-6 text-success-600" />
                <ClockIcon class="w-6 h-6 text-warning-600" />
                <HeartIcon class="w-6 h-6 text-danger-600" />
                <StarIcon class="w-6 h-6 text-warning-500" />
                <BellIcon class="w-6 h-6 text-primary-500" />
                <CogIcon class="w-6 h-6 text-neutral-600" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- BaseButton Tests -->
      <section class="mb-16">
        <div class="bg-white rounded-2xl shadow-card border border-neutral-200 p-8">
          <h2 class="text-2xl font-bold text-neutral-900 mb-6 flex items-center">
            üîò BaseButton
            <span class="ml-3 text-sm font-normal text-neutral-500">Componente de Bot√£o Reutiliz√°vel</span>
          </h2>

          <!-- Variantes -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Variantes</h3>
            <div class="flex flex-wrap gap-4">
              <BaseButton variant="primary" label="Primary" />
              <BaseButton variant="secondary" label="Secondary" />
              <BaseButton variant="ghost" label="Ghost" />
              <BaseButton variant="danger" label="Danger" />
              <BaseButton variant="success" label="Success" />
            </div>
          </div>

          <!-- Tamanhos -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Tamanhos</h3>
            <div class="flex flex-wrap items-center gap-4">
              <BaseButton size="sm" label="Small" />
              <BaseButton size="md" label="Medium" />
              <BaseButton size="lg" label="Large" />
              <BaseButton size="xl" label="Extra Large" />
            </div>
          </div>

          <!-- Estados -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Estados</h3>
            <div class="flex flex-wrap gap-4">
              <BaseButton label="Normal" @click="showAlert('Bot√£o clicado!')" />
              <BaseButton label="Loading" :loading="true" />
              <BaseButton label="Disabled" :disabled="true" />
              <BaseButton label="Full Width" :full-width="true" />
            </div>
          </div>

          <!-- Com Slots -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Com Slots</h3>
            <div class="flex flex-wrap gap-4">
              <BaseButton variant="primary">
                <span class="mr-2">‚ú®</span>
                Com Emoji
              </BaseButton>
              <BaseButton variant="secondary">
                <strong>Texto Bold</strong>
              </BaseButton>
            </div>
          </div>

          <!-- Interativo -->
          <div class="bg-neutral-50 rounded-lg p-4">
            <h4 class="font-medium text-neutral-800 mb-3">Teste Interativo</h4>
            <div class="flex gap-4">
              <BaseButton 
                variant="primary" 
                :loading="buttonLoading"
                @click="simulateLoading"
              >
                {{ buttonLoading ? 'Carregando...' : 'Simular Loading' }}
              </BaseButton>
              <BaseButton 
                variant="ghost" 
                @click="buttonClickCount++"
              >
                Clicado {{ buttonClickCount }}x
              </BaseButton>
            </div>
          </div>
        </div>
      </section>

      <!-- BaseInput Tests -->
      <section class="mb-16">
        <div class="bg-white rounded-2xl shadow-card border border-neutral-200 p-8">
          <h2 class="text-2xl font-bold text-neutral-900 mb-6 flex items-center">
            üìù BaseInput
            <span class="ml-3 text-sm font-normal text-neutral-500">Componente de Input Reutiliz√°vel</span>
          </h2>

          <!-- Tipos B√°sicos -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Tipos B√°sicos</h3>
            <div class="grid md:grid-cols-2 gap-6">
              <BaseInput
                v-model="textValue"
                label="Texto"
                placeholder="Digite um texto..."
                helper-text="Campo de texto simples"
              />
              <BaseInput
                v-model="emailValue"
                type="email"
                label="Email"
                placeholder="seu@email.com"
                helper-text="Formato de email v√°lido"
              />
              <BaseInput
                v-model="passwordValue"
                type="password"
                label="Senha"
                placeholder="Digite sua senha..."
                helper-text="Clique no √≠cone para mostrar/ocultar"
              />
              <BaseInput
                v-model="numberValue"
                type="number"
                label="N√∫mero"
                placeholder="123"
                :min="0"
                :max="100"
                helper-text="Valor entre 0 e 100"
              />
            </div>
          </div>

          <!-- Tamanhos -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Tamanhos</h3>
            <div class="grid md:grid-cols-3 gap-6">
              <BaseInput
                v-model="sizeSmall"
                size="sm"
                label="Small"
                placeholder="Tamanho pequeno"
              />
              <BaseInput
                v-model="sizeMedium"
                size="md"
                label="Medium"
                placeholder="Tamanho m√©dio"
              />
              <BaseInput
                v-model="sizeLarge"
                size="lg"
                label="Large"
                placeholder="Tamanho grande"
              />
            </div>
          </div>

          <!-- Estados -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Estados</h3>
            <div class="grid md:grid-cols-2 gap-6">
              <BaseInput
                v-model="normalInput"
                label="Normal"
                placeholder="Input normal"
                helper-text="Estado padr√£o do input"
              />
              <BaseInput
                v-model="errorInput"
                label="Com Erro"
                placeholder="Input com erro"
                error-message="Este campo √© obrigat√≥rio"
                :required="true"
              />
              <BaseInput
                v-model="disabledInput"
                label="Desabilitado"
                placeholder="Input desabilitado"
                :disabled="true"
                helper-text="Este campo est√° desabilitado"
              />
              <BaseInput
                v-model="readonlyInput"
                label="Somente Leitura"
                placeholder="Input readonly"
                :readonly="true"
                helper-text="Este campo √© somente leitura"
              />
            </div>
          </div>

          <!-- Com Funcionalidades -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-neutral-800 mb-4">Funcionalidades</h3>
            <div class="grid md:grid-cols-2 gap-6">
              <BaseInput
                v-model="clearableInput"
                label="Limp√°vel"
                placeholder="Digite algo para ver o bot√£o limpar"
                :clearable="true"
                helper-text="Bot√£o de limpar aparece quando h√° texto"
              />
              <BaseInput
                v-model="charCountInput"
                label="Contador de Caracteres"
                placeholder="Digite at√© 50 caracteres"
                :maxlength="50"
                :show-char-count="true"
                helper-text="M√°ximo de 50 caracteres"
              />
            </div>
          </div>

          <!-- Valores em Tempo Real -->
          <div class="bg-neutral-50 rounded-lg p-4">
            <h4 class="font-medium text-neutral-800 mb-3">Valores em Tempo Real</h4>
            <div class="grid md:grid-cols-2 gap-4 text-sm">
              <div>
                <strong>Texto:</strong> "{{ textValue }}"<br>
                <strong>Email:</strong> "{{ emailValue }}"<br>
                <strong>Senha:</strong> "{{ passwordValue }}"<br>
                <strong>N√∫mero:</strong> {{ numberValue }}
              </div>
              <div>
                <strong>Limp√°vel:</strong> "{{ clearableInput }}"<br>
                <strong>Contador:</strong> "{{ charCountInput }}"<br>
                <strong>Caracteres:</strong> {{ charCountInput.length }}/50
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Formul√°rio de Exemplo -->
      <section class="mb-16">
        <div class="bg-white rounded-2xl shadow-card border border-neutral-200 p-8">
          <h2 class="text-2xl font-bold text-neutral-900 mb-6">
            üìã Formul√°rio de Exemplo
          </h2>
          
          <form @submit.prevent="handleSubmit" class="space-y-6">
            <div class="grid md:grid-cols-2 gap-6">
              <BaseInput
                v-model="form.name"
                label="Nome Completo"
                placeholder="Seu nome completo"
                :required="true"
                :error-message="formErrors.name"
              />
              <BaseInput
                v-model="form.email"
                type="email"
                label="Email"
                placeholder="seu@email.com"
                :required="true"
                :error-message="formErrors.email"
              />
            </div>
            
            <BaseInput
              v-model="form.phone"
              type="tel"
              label="Telefone"
              placeholder="(11) 99999-9999"
              helper-text="Formato: (XX) XXXXX-XXXX"
            />
            
            <BaseInput
              v-model="form.message"
              label="Mensagem"
              placeholder="Sua mensagem..."
              :maxlength="200"
              :show-char-count="true"
              helper-text="Conte-nos como podemos ajudar"
            />
            
            <div class="flex gap-4 pt-4">
              <BaseButton
                type="submit"
                variant="primary"
                :loading="formSubmitting"
              >
                {{ formSubmitting ? 'Enviando...' : 'Enviar Formul√°rio' }}
              </BaseButton>
              <BaseButton
                type="button"
                variant="secondary"
                @click="resetForm"
              >
                Limpar
              </BaseButton>
            </div>
          </form>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup lang="ts">
// Imports dos √≠cones do Heroicons
import {
  CheckCircleIcon,
  XCircleIcon,
  ExclamationTriangleIcon,
  InformationCircleIcon,
  HomeIcon,
  UserIcon,
  CalendarIcon,
  ClockIcon,
  HeartIcon,
  StarIcon,
  BellIcon,
  CogIcon
} from '@heroicons/vue/24/outline'

// Import do toast
import { useToast } from 'vue-toastification'

// Configura√ß√£o da p√°gina
useHead({
  title: 'Teste de Componentes - Agendamento',
  meta: [
    { name: 'description', content: 'P√°gina de teste para componentes BaseButton, BaseInput, Heroicons e Toast' }
  ]
})

// Inicializar toast
const toast = useToast()

// Estados dos componentes BaseButton
const buttonLoading = ref(false)
const buttonClickCount = ref(0)

// Estados dos componentes BaseInput
const textValue = ref('')
const emailValue = ref('')
const passwordValue = ref('')
const numberValue = ref(0)
const sizeSmall = ref('')
const sizeMedium = ref('')
const sizeLarge = ref('')
const normalInput = ref('')
const errorInput = ref('')
const disabledInput = ref('Valor desabilitado')
const readonlyInput = ref('Valor somente leitura')
const clearableInput = ref('')
const charCountInput = ref('')

// Formul√°rio de exemplo
const form = reactive({
  name: '',
  email: '',
  phone: '',
  message: ''
})

const formErrors = reactive({
  name: '',
  email: ''
})

const formSubmitting = ref(false)

// M√©todos para Toast
const showSuccessToast = () => {
  toast.success('‚úÖ Opera√ß√£o realizada com sucesso!', {
    timeout: 3000
  })
}

const showErrorToast = () => {
  toast.error('‚ùå Ocorreu um erro na opera√ß√£o!', {
    timeout: 4000
  })
}

const showWarningToast = () => {
  toast.warning('‚ö†Ô∏è Aten√ß√£o: Verifique os dados informados!', {
    timeout: 5000
  })
}

const showInfoToast = () => {
  toast.info('‚ÑπÔ∏è Informa√ß√£o importante para o usu√°rio!', {
    timeout: 3500
  })
}

// M√©todos existentes
const showAlert = (message: string) => {
  toast.info(message)
}

const simulateLoading = async () => {
  buttonLoading.value = true
  toast.info('üîÑ Simulando opera√ß√£o...')
  await new Promise(resolve => setTimeout(resolve, 2000))
  buttonLoading.value = false
  toast.success('‚úÖ Loading simulado conclu√≠do!')
}

const validateForm = () => {
  formErrors.name = ''
  formErrors.email = ''
  
  let isValid = true
  
  if (!form.name.trim()) {
    formErrors.name = 'Nome √© obrigat√≥rio'
    isValid = false
  }
  
  if (!form.email.trim()) {
    formErrors.email = 'Email √© obrigat√≥rio'
    isValid = false
  } else if (!/\S+@\S+\.\S+/.test(form.email)) {
    formErrors.email = 'Email inv√°lido'
    isValid = false
  }
  
  return isValid
}

const handleSubmit = async () => {
  if (!validateForm()) {
    toast.error('‚ùå Por favor, corrija os erros no formul√°rio!')
    return
  }
  
  formSubmitting.value = true
  toast.info('üì§ Enviando formul√°rio...')
  
  // Simular envio
  await new Promise(resolve => setTimeout(resolve, 1500))
  
  formSubmitting.value = false
  toast.success('üéâ Formul√°rio enviado com sucesso!')
  resetForm()
}

const resetForm = () => {
  Object.assign(form, {
    name: '',
    email: '',
    phone: '',
    message: ''
  })
  
  Object.assign(formErrors, {
    name: '',
    email: ''
  })
  
  toast.info('üîÑ Formul√°rio limpo!')
}

// Log de desenvolvimento
console.log('üß™ P√°gina de teste carregada!')
console.log('üìä Componentes dispon√≠veis: BaseButton, BaseInput, Heroicons, Toast')
</script>

<style scoped>
/* Estilos adicionais se necess√°rio */
</style>